<prizm-doc-page header="File upload">
  <ng-template prizmDocPageTab>
    <h2>
      <ng-container *prizmIfLang="'russian'; else eng"> Используемый пакет иконок </ng-container>
      <ng-template #eng> Icon pack used </ng-template>
    </h2>

    <div>
      <ol>
        <li>prizm-file-upload (PrizmIconsFullRegistry)</li>
      </ol>
    </div>

    <prizm-doc-example id="base" [content]="basic" heading="Base">
      <prizm-file-upload-basic-example></prizm-file-upload-basic-example>
    </prizm-doc-example>

    <prizm-doc-example id="auto-upload" [content]="autoUpload" heading="Auto upload">
      <prizm-file-auto-upload-example></prizm-file-auto-upload-example>
    </prizm-doc-example>

    <prizm-doc-example id="file-upload-exampleI18n" [content]="exampleI18n" heading="i18n">
      <prizm-file-upload-i18n-example></prizm-file-upload-i18n-example>
    </prizm-doc-example>

    <prizm-doc-example id="example-in-form" [content]="exampleInForm" heading="Usage in Forms">
      <prizm-file-upload-in-form-example></prizm-file-upload-in-form-example>
    </prizm-doc-example>

    <prizm-doc-example id="with-init-files" [content]="exampleWithInitFiles" heading="Usage with init files">
      <prizm-file-upload-with-init-files></prizm-file-upload-with-init-files>
    </prizm-doc-example>

    <prizm-doc-example id="custom-actions" [content]="exampleCustomActions" heading="Custom actions">
      <prizm-file-upload-custom-actions></prizm-file-upload-custom-actions>
    </prizm-doc-example>
  </ng-template>

  <ng-template prizmDocPageTab prizmDocHost>
    <prizm-doc-demo>
      <prizm-file-upload
        #element
        [prizmDocHostElement]="element"
        [multiple]="multiple"
        [accept]="accept"
        [progress]="$any(progress$$ | async)"
        [maxFilesCount]="maxFilesCount"
        [maxFileSize]="maxFileSize"
        [disabled]="disabled"
        [files]="initFiles()"
        (actionEvent)="onActionEvent($event)"
        (filesChange)="onFilesChange($event)"
        (filesValidationErrors)="onFilesValidationErrors($event)"
        (filesCountError)="onFilesCountError($event)"
        (fileAdded)="onFileAdded($event)"
        (fileRemoved)="onFileRemoved($event)"
        (retry)="retry($event)"
      >
        <ng-container *prizmIfLang="'russian'; else eng">
          {{ userContentRu }}
        </ng-container>
        <ng-template #eng> {{ userContentEng }}</ng-template>
      </prizm-file-upload>

      <br />

      <button
        class="submit"
        [disabled]="files.length === 0 || disabled"
        (click)="send()"
        prizmButton
        appearance="primary"
        size="m"
      >
        Отправить
      </button>
    </prizm-doc-demo>
    <prizm-doc-documentation>
      <ng-template
        [(documentationPropertyValue)]="accept"
        [documentationPropertyValues]="acceptVariants"
        documentationPropertyName="accept"
        documentationPropertyType="string"
        documentationPropertyMode="input"
      >
        Accept
      </ng-template>

      <ng-template
        [(documentationPropertyValue)]="maxFileSize"
        documentationPropertyName="maxFileSize"
        documentationPropertyType="number"
        documentationPropertyMode="input"
      >
        Max file size (bytes)
      </ng-template>

      <ng-template
        [(documentationPropertyValue)]="maxFilesCount"
        documentationPropertyName="maxFilesCount"
        documentationPropertyType="number"
        documentationPropertyMode="input"
      >
        Max files count
      </ng-template>

      <ng-template
        [documentationPropertyValue]="initFiles()"
        [documentationPropertyValues]="initFilesVariants()"
        (documentationPropertyValueChange)="initFiles.set($event)"
        documentationPropertyName="files"
        documentationPropertyType="File[]"
        documentationPropertyMode="input"
      >
        Files
      </ng-template>

      <!-- <ng-template
        documentationPropertyName="ng-content"
        documentationPropertyType="string"
        documentationPropertyMode="input"
        [(documentationPropertyValue)]="userContent"
      >
        User content
      </ng-template> -->

      <ng-template
        [(documentationPropertyValue)]="disabled"
        documentationPropertyName="disabled"
        documentationPropertyType="boolean"
        documentationPropertyMode="input"
      >
        Disabled
      </ng-template>

      <ng-template
        documentationPropertyName="progress"
        documentationPropertyType="PrizmFilesProgress"
        documentationPropertyMode="input"
      >
        Progress
      </ng-template>

      <ng-template
        [(documentationPropertyValue)]="multiple"
        documentationPropertyName="multiple"
        documentationPropertyType="boolean"
        documentationPropertyMode="input"
      >
        Multiple
      </ng-template>

      <ng-template
        documentationPropertyName="retry"
        documentationPropertyType="File"
        documentationPropertyMode="output"
      >
        Retry
      </ng-template>

      <ng-template
        documentationPropertyName="actionEvent"
        documentationPropertyType="PrizmActionEvent"
        documentationPropertyMode="output"
      >
        ActionEvent
      </ng-template>

      <ng-template
        documentationPropertyName="afterFilesChange"
        documentationPropertyType="void"
        documentationPropertyMode="output"
      >
        AfterFilesChange
      </ng-template>

      <ng-template
        documentationPropertyName="beforeFilesChange"
        documentationPropertyMode="output"
        documentationPropertyType="void"
      >
        Before files change
      </ng-template>

      <ng-template
        documentationPropertyName="filesChange"
        documentationPropertyMode="output"
        documentationPropertyType="File[]"
      >
        Files change
      </ng-template>

      <ng-template
        documentationPropertyName="filesValidationErrors"
        documentationPropertyMode="output"
        documentationPropertyType="Map<filename, PrizmFileValidationErrors>"
      >
        FilesValidationErrors
      </ng-template>

      <ng-template
        documentationPropertyName="filesCountError"
        documentationPropertyMode="output"
        documentationPropertyType="Array<filenames>"
      >
        Files count error
      </ng-template>

      <ng-template
        documentationPropertyName="fileAdded"
        documentationPropertyMode="output"
        documentationPropertyType="string"
      >
        Files count error
      </ng-template>

      <ng-template
        documentationPropertyName="fileRemoved"
        documentationPropertyMode="output"
        documentationPropertyType="string"
      >
        Files count error
      </ng-template>
    </prizm-doc-documentation>
  </ng-template>

  <ng-template prizmDocPageTab>
    <ol class="b-demo-steps">
      <li>
        <p>
          Импортируйте <code>PrizmFileUploadComponent</code>
          в модуль в котором хотите использовать компоненту
        </p>

        <prizm-doc-code [code]="setupModule" filename="MyComponent.module.ts"></prizm-doc-code>
      </li>
    </ol>
  </ng-template>
</prizm-doc-page>
